<!-- 
  ============================================================================
  ðŸªŸ MODAL TEMPLATE - SISTEMA OAXACA MIEL
  ============================================================================
  
  Template del componente Modal con:
  - Overlay/Backdrop
  - Header con tÃ­tulo y botÃ³n cerrar
  - Body con scroll
  - Footer opcional
  - Animaciones de entrada/salida
  
  ============================================================================
-->

@if (isOpen()) {
<!-- Backdrop / Overlay -->
<div class="modal-backdrop" (click)="onBackdropClick($event)" [@fadeIn]>

    <!-- Modal Container -->
    <div [class]="modalClasses()" (click)="onModalContentClick($event)" [@slideIn]>

        <!-- HEADER -->
        <div class="modal-header">

            <!-- TÃ­tulo del header -->
            <div class="modal-title">
                @if (title()) {
                <h3>{{ title() }}</h3>
                } @else {
                <ng-content select="[modal-header]"></ng-content>
                }
            </div>

            <!-- BotÃ³n cerrar -->
            @if (showCloseButton()) {
            <button type="button" class="modal-close-button" (click)="close()" aria-label="Cerrar modal">
                <app-icon name="x-mark" size="md" />
            </button>
            }

        </div>

        <!-- BODY -->
        <div class="modal-body">
            <ng-content select="[modal-body]"></ng-content>
            <!-- Si no hay modal-body explÃ­cito, usa el contenido default -->
            <ng-content></ng-content>
        </div>

        <!-- FOOTER -->
        @if (showFooter()) {
        <div class="modal-footer">
            <ng-content select="[modal-footer]"></ng-content>
        </div>
        }

    </div>

</div>
}