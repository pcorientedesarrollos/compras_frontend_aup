<nav class="fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 h-16 shadow-sm">
    <div class="flex items-center justify-between h-full px-4">

        <!-- LEFT: Hamburger + Logo -->
        <div class="flex items-center space-x-3">
            <!-- Hamburger button (solo mobile/tablet) -->
            <button (click)="onToggleSidebar()"
                class="p-2 text-gray-600 rounded-lg hover:bg-gray-100 lg:hidden transition-colors"
                aria-label="Toggle sidebar">
                <app-icon name="bars-3" size="lg" color="text-gray-600" />
            </button>

            <!-- Logo -->
            <div class="flex items-center space-x-2">
                <app-icon name="honey" size="xl" color="text-honey-primary" />
                <div class="hidden sm:flex flex-col">
                    <span class="text-lg font-bold text-honey-dark leading-tight">Oaxaca Miel</span>
                    <span class="text-xs text-gray-500 leading-tight">Trazabilidad</span>
                </div>
            </div>
        </div>

        <!-- RIGHT: User Info + Logout -->
        <div class="flex items-center space-x-3">

            <!-- User info (oculto en mobile) -->
            <div class="hidden md:flex flex-col items-end">
                <span class="text-sm font-semibold text-gray-800">
                    {{ currentUser()?.nombre }}
                </span>
                <span [class]="'text-xs font-medium px-2 py-0.5 rounded-full border ' + roleBadgeClass()">
                    {{ roleDisplayName() }}
                </span>
            </div>

            <!-- Avatar con iniciales -->
            <div class="w-10 h-10 bg-gradient-to-br from-honey-primary to-amber-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md"
                [title]="currentUser()?.nombre">
                {{ userInitials() }}
            </div>

            <!-- Logout button (desktop) -->
            <button (click)="onLogout()"
                class="hidden sm:flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"
                title="Cerrar sesión">
                <app-icon name="arrow-right" size="md" />
                <span class="hidden lg:inline">Salir</span>
            </button>

            <!-- Logout button (mobile) -->
            <button (click)="onLogout()"
                class="sm:hidden p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors"
                aria-label="Cerrar sesión">
                <app-icon name="arrow-right" size="md" />
            </button>
        </div>

    </div>
</nav>